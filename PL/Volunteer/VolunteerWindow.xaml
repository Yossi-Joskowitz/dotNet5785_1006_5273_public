<Window x:Class="PL.Volunteer.VolunteerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PL.Volunteer"
        xmlns:xaml="clr-namespace:XamlHelpers"
        mc:Ignorable="d"
        DataContext="{Binding RelativeSource={RelativeSource Mode=Self}}"
        Title="VolunteerWindow" Height="640" Width="400" 
        ResizeMode="NoResize"
        Loaded="Window_Loaded"
        Closed="Window_Closed"
        >
    <Border BorderBrush="Black" BorderThickness="2"  CornerRadius="5" Margin="10">
        <Grid >
            <Image  Source="/image/image5.jpeg" Grid.ColumnSpan="2" Grid.RowSpan="10"  Opacity="0.1" Stretch="Uniform" Canvas.ZIndex="-1"  />

            <Grid Margin="30,0,10,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>


                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="auto" />
                    <RowDefinition Height="auto" />

                </Grid.RowDefinitions>

                <!-- ID -->
                <Label Content="ID:" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="1" FontWeight="ExtraBold"/>
                <TextBox Text="{Binding Volunteer.Id, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}" Grid.Row="0" Grid.Column="1" VerticalAlignment="Center" Margin="1" IsReadOnly="{Binding ButtonText , Converter={StaticResource IDEditableConverterKey}}" />

                <!-- Full Name -->
                <Label Content="Full Name:" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="1" FontWeight="ExtraBold" />
                <TextBox Text="{Binding Volunteer.FullName, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}" Grid.Row="1" Grid.Column="1" VerticalAlignment="Center" Margin="1" IsReadOnly="False"/>

                <!-- Phone Number -->
                <Label Content="Phone Number:" Grid.Row="2" Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="1" FontWeight="ExtraBold"/>
                <TextBox Text="{Binding Volunteer.PhoneNumber, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}" Grid.Row="2" Grid.Column="1" VerticalAlignment="Center" Margin="1" />
                <!-- Full Address -->
                <Label Content="Full Address:" Grid.Row="3" Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="1" FontWeight="ExtraBold"/>
                <TextBox Text="{Binding Volunteer.FullAddress, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}" Grid.Row="3" Grid.Column="1" VerticalAlignment="Center" Margin="1" />

                <!-- Password -->
                <Label Content="Password:" Grid.Row="4" Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="1" FontWeight="ExtraBold"/>
                <Grid  Grid.Row="4" Grid.Column="1" >
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <PasswordBox Grid.Row="0" Width="120" Margin="1" VerticalAlignment="Top" HorizontalAlignment="Center"  xaml:Secure.Password="{Binding Volunteer.Password, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                    <TextBox Margin="1" Grid.Row="0" HorizontalAlignment="Center" VerticalAlignment="Top" Width="120"
                     Text="{Binding Volunteer.Password,UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True}"
                     Visibility="{Binding IsPasswordVisible, Converter={StaticResource BooleanToVisibilityConverterKey}}"/>
                    <CheckBox IsChecked="{Binding IsPasswordVisible ,Mode=TwoWay}" Grid.Row="1" Content="show" HorizontalAlignment="Center" Margin="1"  VerticalAlignment="Bottom"
                           ToolTipService.InitialShowDelay="100" ToolTipService.ShowDuration="5000" ToolTip = "Check to see the password"/>

                </Grid>
                <!-- Email -->
                <Label Content="Email:" Grid.Row="5" Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="1" FontWeight="ExtraBold"/>
                <TextBox Text="{Binding Volunteer.Email, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}" Grid.Row="5" Grid.Column="1" VerticalAlignment="Center" Margin="1"  />

                <!-- Active -->
                <Label Content="Active:" Grid.Row="6" Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="1" FontWeight="ExtraBold"/>
                <CheckBox IsChecked="{Binding Volunteer.Active, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}" Grid.Row="6" Grid.Column="1" VerticalAlignment="Center" Margin="1" />

                <StackPanel Grid.Row="7" Grid.Column="0" Grid.ColumnSpan="2">
                    <StackPanel.Style>
                        <Style TargetType="StackPanel">
                            <Setter Property="Visibility" Value="Visible"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding ButtonText}" Value="Add">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </StackPanel.Style>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <!-- Number of Calls Treated -->
                        <Label Content="Calls Treated:" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="1" FontWeight="ExtraBold"/>
                        <TextBox Text="{Binding Volunteer.NumberOfCallsThatTreated, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}" Grid.Row="0" Grid.Column="1" VerticalAlignment="Center" Margin="1" IsReadOnly="True"/>

                        <!-- Number of Calls That Self-Canceled -->
                        <Label Content="Self-Canceled Calls:" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="1" FontWeight="ExtraBold"/>
                        <TextBox Text="{Binding Volunteer.NumberOfCallsThatSelfCanceled, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}" Grid.Row="1" Grid.Column="1" VerticalAlignment="Center" Margin="1" IsReadOnly="True"/>

                        <!-- Number of Calls Taken and Expired -->
                        <Label Content="Expired Calls:" Grid.Row="2" Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="1" FontWeight="ExtraBold"/>
                        <TextBox Text="{Binding Volunteer.NumberOfCallsTakenAndExpired, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}" Grid.Row="2" Grid.Column="1" VerticalAlignment="Center" Margin="1" IsReadOnly="True"/>

                        <!-- Call In Progress -->
                        <Label Content="ID Call In Treatment:" Grid.Row="3" Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="1" FontWeight="ExtraBold"/>
                        <TextBox Text="{Binding Volunteer.callInProgress.CallId, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}" Grid.Row="3" Grid.Column="1" VerticalAlignment="Center" Margin="1" IsReadOnly="True"/>
                    </Grid>
                </StackPanel>
                <!-- Role Type -->
                <Label Content="Role Type:" Grid.Row="8" Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="1" FontWeight="ExtraBold"/>
                <ComboBox SelectedValue="{Binding Volunteer.RoleType, Mode=TwoWay}"
          IsEditable="False"
          ItemsSource="{Binding Source={StaticResource VolunteerTypeCollectionKey}}"
          Grid.Row="8" Grid.Column="1"
          VerticalAlignment="Center"
          HorizontalAlignment="Center"
          Margin="1" />

                <!-- Distance Type -->
                <Label Content="Distance Type:" Grid.Row="9" Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="1" FontWeight="ExtraBold"/>
                <ComboBox  SelectedValue="{Binding Volunteer.DistanceType, Mode=TwoWay}"
          IsEditable="False"
          ItemsSource="{Binding Source={StaticResource VolunteerDistanceCollectionKey}}"
          Grid.Row="9" Grid.Column="1"
          VerticalAlignment="Center"
          HorizontalAlignment="Center"
          Margin="1" />

                <!-- Max Distance -->
                <Label Content="Max Distance:" Grid.Row="10" Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="1" FontWeight="ExtraBold"/>
                <TextBox Text="{Binding Volunteer.MaxDistance, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}" Grid.Row="10" Grid.Column="1" VerticalAlignment="Center" Margin="1" />

                <!-- Call In Progres -->
                <Grid Grid.ColumnSpan="2" Grid.Row="11" Visibility="{Binding CallInProgres, Converter={StaticResource BooleanToVisibilityConverterKey}}">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Label Content="Call In Progress:" Grid.Row="0"  VerticalAlignment="Center" HorizontalAlignment="Left" Margin="1" FontWeight="ExtraBold"/>
                    <Grid Grid.Row="1"  MaxHeight="100" Margin="5">
                        <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
                            <ItemsControl>
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <StackPanel Orientation="Horizontal" Margin="1">
                                            <TextBlock Text="{Binding Key}" FontWeight="Bold" Margin="0,0,5,0" />
                                            <TextBlock Text="{Binding Value}" />
                                        </StackPanel>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                                <ItemsControl.ItemsSource>
                                    <Binding Path="Volunteer.callInProgress" Converter="{StaticResource ObjectToKeyValuePairsConverterKey}" />
                                </ItemsControl.ItemsSource>
                            </ItemsControl>
                        </ScrollViewer>
                    </Grid>
                </Grid>


                <!-- Submit Button (Add/Update Volunteer) -->
                <Button Content="{Binding ButtonText}" Height="30" Width="70" Click="AddOrUpdateButton_Click" Grid.Row="12" Grid.ColumnSpan="2" VerticalAlignment="Center" HorizontalAlignment="Center" Margin="5"/>
            </Grid>
        </Grid>
    </Border>
</Window>