<Window x:Class="PL.Volunteer.VolunteerListWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        DataContext="{Binding RelativeSource={RelativeSource Mode=Self}}"
        xmlns:local="clr-namespace:PL.Volunteer"       
        mc:Ignorable="d"
        Title="VolunteerListWindow" Height="640" Width="800"
        ResizeMode="NoResize"
        Loaded="Window_Loaded"
        Closed="Window_Closed">
    <!--External Grid-->
    <Grid Height="624" VerticalAlignment="Bottom">
        <Grid.RowDefinitions>
            <RowDefinition Height="50*"/>
            <RowDefinition Height="208*"/>
            <RowDefinition Height="Auto" MinHeight="74"/>
        </Grid.RowDefinitions>
        <!--Internal, Upper Grid-->
        <Grid Height="auto" Grid.Row="0" Width="auto">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <!-- Label for "List of Volunteer" -->
            <Label Grid.Column="0"  Content="List of Volunteer" HorizontalAlignment="center"  VerticalAlignment="center" Height="auto" Width="auto" Background="#FFAEAEAE" FontWeight="Bold" FontSize="25"/>
            <!-- ComboBox for sorting options (binds to Sort property) -->
            <ComboBox  Text="Select an option"  SelectedValue="{Binding Sort, Mode=TwoWay}"
                       SelectionChanged="ComboBox_SelectionChanged"
                    IsEditable="True" ItemsSource="{Binding Source={StaticResource VolunteerInListCollectionKey}}"
                    Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center" Height="27" Width="212"  ToolTipService.InitialShowDelay="100"
                    ToolTipService.ShowDuration="5000" ToolTip = "Sort by a certain value" />
            <!-- GroupBox for "Choose active mode" with radio buttons for filtering active/inactive volunteers -->
            <GroupBox Grid.Column="2" Header="Choose active mode" Margin="3,22,10,10">
                <StackPanel>
                    <RadioButton Content="All" IsChecked="True"  Checked="RadioButton_Checked" Tag="All" ToolTipService.InitialShowDelay="100"
                    ToolTipService.ShowDuration="5000" ToolTip = "Receiving the list of all volunteers without filtering"/>
                    <RadioButton Content="Active"  Checked="RadioButton_Checked" Tag="Active" ToolTipService.InitialShowDelay="100"
                    ToolTipService.ShowDuration="5000" ToolTip = "Receiving a list of all active volunteers"/>
                    <RadioButton Content="Inactive"  Checked="RadioButton_Checked" Tag="Inactive" ToolTipService.InitialShowDelay="100"
                    ToolTipService.ShowDuration="5000" ToolTip = "Receiving a list of all inactive volunteers" />
                </StackPanel>
            </GroupBox>
        </Grid>
        <!-- DataGrid: Displays the list of volunteers, allows selection and deletion -->
        <DataGrid ItemsSource="{Binding Path=VolunteerList}" Grid.Row="1" Width="auto" Padding="0"
          SelectedItem="{Binding SelectedVolunteer}" IsReadOnly="True" 
          AutoGenerateColumns="False" MouseDoubleClick="VolunteerList_MouseDoubleClick" 
          RowBackground="#80D3D3D3" AlternatingRowBackground="#80FFFFFF" Background="Transparent" 
          FontWeight="ExtraBold">
            <DataGrid.Columns>
                <!-- Column for the "Delete" button -->
                <DataGridTemplateColumn Header="Delete" Width="Auto">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Button Content="Delete" Click="DeleteVolunteerButton_Click" BorderBrush="Black" Background="#FFF48080" FontWeight="Bold" FontSize="13" FontStyle="Normal" ToolTipService.InitialShowDelay="100"
                                ToolTipService.ShowDuration="5000" ToolTip="Click to delete this volunteer">
                                <Button.Visibility>
                                    <MultiBinding Converter="{StaticResource VolunteerVisibilityForDeleteConverterKey}">
                                        <Binding Path="NumberOfCallsThatTreated"/>
                                        <Binding Path="NumberOfCallsThatSelfCanceled"/>
                                        <Binding Path="NumberOfCallsTakenAndExpired"/>
                                        <Binding Path="NumberOfCallsTakenAndCancelingAnAdministrator"/>
                                        <Binding Path="NumberOfIdCall"/>
                                    </MultiBinding>
                                </Button.Visibility>
                            </Button>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <!-- Columns for volunteer details like Full Name, ID, Active status, etc. -->
                <DataGridTextColumn Binding="{Binding FullName}" Header="Full Name" Width="Auto" />
                <DataGridTextColumn Binding="{Binding Id}" Header="Id" Width="Auto"/>
                <!-- Column for Active status -->
                <DataGridTemplateColumn Header="Active" Width="Auto" >
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <CheckBox IsEnabled="False"  IsChecked="{Binding Active}"   />
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <!-- Other columns for volunteer call statistics -->
                <DataGridTextColumn Binding="{Binding NumberOfCallsThatTreated}" Header="Calls Treated" Width="Auto"/>
                <DataGridTextColumn Binding="{Binding NumberOfCallsThatSelfCanceled}" Header="Calls Self Canceled" Width="Auto"/>
                <DataGridTextColumn Binding="{Binding NumberOfCallsTakenAndExpired}" Header="Calls Expired" Width="Auto"/>
                <DataGridTextColumn Binding="{Binding NumberOfIdCall}" Header="Call ID" Width="Auto"/>
                <DataGridTextColumn Binding="{Binding Type}" Header="Call Type" Width="Auto"/>
            </DataGrid.Columns>
        </DataGrid>
        <!-- "Add a Volunteer" button at the bottom -->
        <Button Content="Add a Volunteer"  FontSize="18" Grid.Row="2" Width="150" Height ="45"  Click="AddVolunteerButton_Click" ToolTipService.InitialShowDelay="100"
        ToolTipService.ShowDuration="5000" ToolTip="Tap to add a new volunteer"/>
        <Image Grid.ColumnSpan="3" Grid.RowSpan="3" Opacity="0.4" Stretch="Fill" Canvas.ZIndex="-1" Source="/image/image8.jpeg"  />
    </Grid>

</Window>